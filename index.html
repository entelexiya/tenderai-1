<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TenderAI ‚Äî AI –ì–æ—Å–∑–∞–∫—É–ø–∫–∏ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #07080f;
  --bg2: #0d0f1a;
  --bg3: #111322;
  --accent: #7c6dfa;
  --accent2: #9d91ff;
  --green: #38d9a9;
  --red: #ff6b6b;
  --yellow: #ffd43b;
  --text: #e8e9f0;
  --muted: #6b6e8a;
  --border: rgba(124,109,250,0.15);
  --card: rgba(13,15,26,0.8);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  overflow-x: hidden;
  cursor: none;
}

/* CUSTOM CURSOR */
#cursor {
  width: 12px; height: 12px;
  background: var(--accent);
  border-radius: 50%;
  position: fixed; top: 0; left: 0;
  pointer-events: none;
  z-index: 9999;
  transition: transform 0.15s ease, background 0.2s;
  mix-blend-mode: screen;
}
#cursor-ring {
  width: 36px; height: 36px;
  border: 1.5px solid rgba(124,109,250,0.5);
  border-radius: 50%;
  position: fixed; top: 0; left: 0;
  pointer-events: none;
  z-index: 9998;
  transition: transform 0.35s cubic-bezier(0.23,1,0.32,1);
}

/* CANVAS PARTICLES */
#particles-canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 0;
  opacity: 0.4;
}

/* GRID BACKGROUND */
.grid-bg {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background-image:
    linear-gradient(rgba(124,109,250,0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124,109,250,0.04) 1px, transparent 1px);
  background-size: 60px 60px;
  pointer-events: none;
  z-index: 0;
}

/* NAV */
nav {
  position: fixed; top: 0; left: 0; right: 0;
  z-index: 100;
  display: flex; align-items: center; justify-content: space-between;
  padding: 20px 48px;
  backdrop-filter: blur(20px);
  background: rgba(7,8,15,0.7);
  border-bottom: 1px solid var(--border);
}
.nav-logo {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 22px;
  letter-spacing: -0.5px;
  display: flex; align-items: center; gap: 10px;
}
.nav-logo .logo-dot {
  width: 8px; height: 8px;
  background: var(--accent);
  border-radius: 50%;
  box-shadow: 0 0 12px var(--accent);
  animation: pulse-dot 2s infinite;
}
@keyframes pulse-dot {
  0%,100% { box-shadow: 0 0 8px var(--accent); }
  50% { box-shadow: 0 0 20px var(--accent), 0 0 40px rgba(124,109,250,0.3); }
}
.nav-links { display: flex; gap: 32px; align-items: center; }
.nav-links a {
  font-size: 14px; color: var(--muted);
  text-decoration: none;
  font-family: 'DM Mono', monospace;
  letter-spacing: 0.05em;
  transition: color 0.2s;
}
.nav-links a:hover { color: var(--text); }
.nav-btn {
  background: var(--accent);
  color: white;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  font-family: 'DM Sans', sans-serif;
  font-weight: 600;
  font-size: 14px;
  cursor: none;
  transition: all 0.2s;
}
.nav-btn:hover {
  background: var(--accent2);
  box-shadow: 0 0 24px rgba(124,109,250,0.4);
}

/* SECTIONS */
section { position: relative; z-index: 1; }

/* HERO */
#hero {
  min-height: 100vh;
  display: flex; align-items: center; justify-content: center;
  flex-direction: column;
  text-align: center;
  padding: 120px 48px 80px;
}
.hero-badge {
  display: inline-flex; align-items: center; gap: 8px;
  background: rgba(124,109,250,0.12);
  border: 1px solid rgba(124,109,250,0.3);
  border-radius: 100px;
  padding: 6px 16px;
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--accent2);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 32px;
  animation: fadeUp 0.8s ease both;
}
.hero-badge .badge-dot {
  width: 6px; height: 6px;
  background: var(--green);
  border-radius: 50%;
  animation: pulse-dot 2s infinite;
}
.hero-title {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: clamp(52px, 8vw, 96px);
  line-height: 1.0;
  letter-spacing: -2px;
  margin-bottom: 8px;
  animation: fadeUp 0.8s 0.1s ease both;
}
.hero-title .accent { color: var(--accent); }
.hero-title .glow {
  -webkit-text-stroke: 1px rgba(124,109,250,0.5);
  color: transparent;
}
.hero-subtitle {
  font-size: clamp(16px, 2.5vw, 22px);
  color: var(--muted);
  max-width: 600px;
  line-height: 1.6;
  margin: 24px auto 48px;
  animation: fadeUp 0.8s 0.2s ease both;
  font-style: italic;
}
.hero-subtitle em { color: var(--text); font-style: normal; font-weight: 500; }

.hero-stats {
  display: flex; gap: 40px; justify-content: center;
  margin-bottom: 56px;
  flex-wrap: wrap;
  animation: fadeUp 0.8s 0.3s ease both;
}
.stat-item { text-align: center; }
.stat-value {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 36px;
  line-height: 1;
  color: var(--accent2);
}
.stat-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-top: 4px;
}
.stat-divider { width: 1px; background: var(--border); }

.hero-btns {
  display: flex; gap: 16px; justify-content: center;
  animation: fadeUp 0.8s 0.4s ease both;
}
.btn-primary {
  background: var(--accent);
  color: white; border: none;
  padding: 16px 36px;
  border-radius: 12px;
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 15px;
  cursor: none;
  transition: all 0.25s;
  display: flex; align-items: center; gap: 8px;
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(124,109,250,0.5);
  background: var(--accent2);
}
.btn-secondary {
  background: transparent;
  color: var(--text);
  border: 1px solid var(--border);
  padding: 16px 36px;
  border-radius: 12px;
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 15px;
  cursor: none;
  transition: all 0.25s;
  display: flex; align-items: center; gap: 8px;
}
.btn-secondary:hover {
  border-color: rgba(124,109,250,0.5);
  background: rgba(124,109,250,0.07);
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}

/* SCROLL REVEAL */
.reveal {
  opacity: 0;
  transform: translateY(32px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.reveal.visible {
  opacity: 1;
  transform: none;
}

/* UPLOAD SECTION */
#upload {
  padding: 80px 48px;
  max-width: 1100px;
  margin: 0 auto;
}
.section-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--accent);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  margin-bottom: 12px;
}
.section-title {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: clamp(28px, 4vw, 48px);
  letter-spacing: -1px;
  line-height: 1.1;
  margin-bottom: 16px;
}
.section-desc {
  color: var(--muted);
  font-size: 16px;
  line-height: 1.6;
  max-width: 500px;
  margin-bottom: 48px;
}

/* DROP ZONE */
.drop-zone {
  border: 1.5px dashed rgba(124,109,250,0.3);
  border-radius: 20px;
  padding: 60px 40px;
  text-align: center;
  background: rgba(124,109,250,0.03);
  transition: all 0.3s;
  margin-bottom: 32px;
  position: relative;
  overflow: hidden;
}
.drop-zone::before {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(circle at 50% 0%, rgba(124,109,250,0.06), transparent 70%);
  pointer-events: none;
}
.drop-zone:hover, .drop-zone.drag-over {
  border-color: rgba(124,109,250,0.6);
  background: rgba(124,109,250,0.06);
}
.drop-icon {
  width: 56px; height: 56px;
  background: rgba(124,109,250,0.15);
  border-radius: 16px;
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 20px;
  font-size: 24px;
}
.drop-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 20px;
  margin-bottom: 8px;
}
.drop-sub {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--muted);
}
.drop-or {
  margin: 20px 0;
  color: var(--muted);
  font-size: 13px;
  font-family: 'DM Mono', monospace;
}
.btn-upload {
  background: rgba(124,109,250,0.15);
  border: 1px solid rgba(124,109,250,0.4);
  color: var(--accent2);
  padding: 12px 28px;
  border-radius: 10px;
  font-family: 'DM Sans', sans-serif;
  font-weight: 600;
  font-size: 14px;
  cursor: none;
  transition: all 0.2s;
}
.btn-upload:hover {
  background: rgba(124,109,250,0.25);
}
#file-input { display: none; }

/* DEMO BUTTONS */
.demo-section { margin-top: 40px; }
.demo-label {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--muted);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 16px;
}
.demo-btns { display: flex; gap: 12px; flex-wrap: wrap; }
.demo-btn {
  flex: 1; min-width: 200px;
  padding: 20px 24px;
  border-radius: 14px;
  border: 1px solid;
  background: transparent;
  cursor: none;
  transition: all 0.25s;
  text-align: left;
}
.demo-btn-high { border-color: rgba(255,107,107,0.3); }
.demo-btn-high:hover { background: rgba(255,107,107,0.07); border-color: rgba(255,107,107,0.6); }
.demo-btn-med { border-color: rgba(255,212,59,0.3); }
.demo-btn-med:hover { background: rgba(255,212,59,0.07); border-color: rgba(255,212,59,0.6); }
.demo-btn-low { border-color: rgba(56,217,169,0.3); }
.demo-btn-low:hover { background: rgba(56,217,169,0.07); border-color: rgba(56,217,169,0.6); }

.demo-btn-icon { font-size: 20px; margin-bottom: 10px; display: block; }
.demo-btn-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 15px;
  margin-bottom: 4px;
  color: var(--text);
}
.demo-btn-sub {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
}
.demo-btn-score {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 28px;
  margin-top: 12px;
}
.demo-btn-high .demo-btn-score { color: var(--red); }
.demo-btn-med .demo-btn-score { color: var(--yellow); }
.demo-btn-low .demo-btn-score { color: var(--green); }

/* LOADING */
#loading {
  display: none;
  padding: 60px 0;
  text-align: center;
}
.loading-steps { display: flex; flex-direction: column; gap: 16px; max-width: 400px; margin: 32px auto 0; }
.loading-step {
  display: flex; align-items: center; gap: 16px;
  padding: 14px 20px;
  border-radius: 12px;
  background: var(--bg2);
  border: 1px solid var(--border);
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--muted);
  transition: all 0.3s;
}
.loading-step.active { color: var(--text); border-color: rgba(124,109,250,0.4); background: rgba(124,109,250,0.08); }
.loading-step.done { color: var(--green); border-color: rgba(56,217,169,0.3); }
.step-icon { width: 24px; height: 24px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
.step-spinner {
  width: 16px; height: 16px;
  border: 2px solid rgba(124,109,250,0.2);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 24px;
}
.loading-sub { color: var(--muted); font-family: 'DM Mono', monospace; font-size: 13px; margin-top: 8px; }

/* RESULTS */
#results { display: none; padding: 0 0 80px; }

/* RISK HERO */
.risk-hero {
  background: var(--bg2);
  border-radius: 24px;
  border: 1px solid var(--border);
  padding: 48px;
  margin-bottom: 32px;
  display: flex; align-items: center; gap: 48px;
  flex-wrap: wrap;
  position: relative;
  overflow: hidden;
}
.risk-hero::before {
  content: '';
  position: absolute;
  top: -60px; right: -60px;
  width: 300px; height: 300px;
  border-radius: 50%;
  opacity: 0.07;
}
.risk-hero.high::before { background: var(--red); }
.risk-hero.medium::before { background: var(--yellow); }
.risk-hero.low::before { background: var(--green); }

.risk-score-wrap { flex-shrink: 0; }
.risk-score-value {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 96px;
  line-height: 1;
  letter-spacing: -4px;
}
.risk-hero.high .risk-score-value { color: var(--red); }
.risk-hero.medium .risk-score-value { color: var(--yellow); }
.risk-hero.low .risk-score-value { color: var(--green); }
.risk-score-label {
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--muted);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.risk-info { flex: 1; min-width: 260px; }
.risk-level {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 6px 14px;
  border-radius: 8px;
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 16px;
}
.risk-hero.high .risk-level { background: rgba(255,107,107,0.15); color: var(--red); border: 1px solid rgba(255,107,107,0.3); }
.risk-hero.medium .risk-level { background: rgba(255,212,59,0.12); color: var(--yellow); border: 1px solid rgba(255,212,59,0.3); }
.risk-hero.low .risk-level { background: rgba(56,217,169,0.12); color: var(--green); border: 1px solid rgba(56,217,169,0.3); }

.risk-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 22px;
  margin-bottom: 12px;
}
.risk-recommendation {
  font-size: 15px;
  color: var(--muted);
  line-height: 1.6;
  margin-bottom: 24px;
}

.risk-bar-wrap { margin-top: 16px; }
.risk-bar-bg {
  height: 8px;
  background: rgba(255,255,255,0.06);
  border-radius: 100px;
  overflow: hidden;
}
.risk-bar-fill {
  height: 100%;
  border-radius: 100px;
  transition: width 1.2s cubic-bezier(0.23,1,0.32,1);
  width: 0;
}
.risk-hero.high .risk-bar-fill { background: linear-gradient(90deg, #ff6b6b, #ff9f9f); }
.risk-hero.medium .risk-bar-fill { background: linear-gradient(90deg, #ffd43b, #ffe67a); }
.risk-hero.low .risk-bar-fill { background: linear-gradient(90deg, #38d9a9, #63e6be); }

/* COMPONENTS */
.components-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px;
  margin-bottom: 32px;
}
@media (max-width: 900px) { .components-grid { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 600px) { .components-grid { grid-template-columns: 1fr 1fr; } }

.component-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px 16px;
  transition: all 0.25s;
}
.component-card:hover {
  border-color: rgba(124,109,250,0.6);
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.4), 0 0 20px rgba(124,109,250,0.1);
}
.comp-name {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.05em;
  margin-bottom: 12px;
  line-height: 1.4;
}
.comp-score {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 32px;
  line-height: 1;
  margin-bottom: 10px;
}
.comp-bar {
  height: 4px;
  background: rgba(255,255,255,0.06);
  border-radius: 100px;
  overflow: hidden;
}
.comp-bar-fill {
  height: 100%;
  border-radius: 100px;
  transition: width 1s ease;
  width: 0;
}

/* TWO COLUMN */
.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 32px; }
@media (max-width: 760px) { .two-col { grid-template-columns: 1fr; } }

.card-block {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 28px;
}
.card-block-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 20px;
  display: flex; align-items: center; gap: 10px;
}
.card-block-title .icon {
  width: 32px; height: 32px;
  background: rgba(124,109,250,0.15);
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 15px;
}

/* LEGAL */
.legal-item {
  padding: 14px 16px;
  border-radius: 12px;
  margin-bottom: 10px;
  display: flex; align-items: flex-start; gap: 12px;
  border: 1px solid;
  transition: all 0.2s;
}
.legal-item:hover { transform: translateX(4px); }
.legal-item.violation { background: rgba(255,107,107,0.07); border-color: rgba(255,107,107,0.25); }
.legal-item.warning { background: rgba(255,212,59,0.07); border-color: rgba(255,212,59,0.2); }
.legal-item.ok { background: rgba(56,217,169,0.07); border-color: rgba(56,217,169,0.2); }
.legal-icon { font-size: 16px; flex-shrink: 0; margin-top: 2px; }
.legal-article {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  letter-spacing: 0.05em;
  margin-bottom: 4px;
}
.legal-item.violation .legal-article { color: var(--red); }
.legal-item.warning .legal-article { color: var(--yellow); }
.legal-item.ok .legal-article { color: var(--green); }
.legal-message { font-size: 13px; color: var(--muted); line-height: 1.5; }
.legal-found {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  margin-top: 4px;
  padding: 3px 8px;
  background: rgba(255,255,255,0.04);
  border-radius: 4px;
  display: inline-block;
}

/* REQUIREMENTS */
.req-item {
  display: flex; align-items: center; gap: 14px;
  padding: 14px 0;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
.req-item:last-child { border-bottom: none; }
.req-icon {
  width: 36px; height: 36px;
  border-radius: 10px;
  background: rgba(124,109,250,0.12);
  display: flex; align-items: center; justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
}
.req-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-bottom: 2px;
}
.req-value {
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 15px;
  color: var(--text);
}

/* WINNER */
.winner-card {
  background: var(--bg3);
  border-radius: 14px;
  border: 1px solid rgba(56,217,169,0.2);
  padding: 16px 20px;
  margin-top: 16px;
}
.winner-badge {
  display: inline-flex; align-items: center; gap: 6px;
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--green);
  margin-bottom: 8px;
  letter-spacing: 0.05em;
}
.winner-name {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 16px;
  color: var(--text);
  margin-bottom: 4px;
}
.winner-stats {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}

/* HEATMAP */
.heatmap-section {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 28px;
  margin-bottom: 32px;
}
.heatmap-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 20px;
  display: flex; align-items: center; gap: 10px;
}
.heatmap-text {
  font-family: 'DM Sans', sans-serif;
  font-size: 14px;
  line-height: 2;
  color: #8b8fa8;
}
.heatmap-text .highlight-high {
  background: rgba(255,107,107,0.25);
  color: var(--red);
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 500;
}
.heatmap-text .highlight-med {
  background: rgba(255,212,59,0.2);
  color: var(--yellow);
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 500;
}

/* LEGAL SUMMARY BADGE */
.legal-summary {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 16px;
  border-radius: 10px;
  margin-bottom: 16px;
}
.legal-summary.critical { background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.25); }
.legal-summary.warning { background: rgba(255,212,59,0.08); border: 1px solid rgba(255,212,59,0.2); }
.legal-summary.ok { background: rgba(56,217,169,0.08); border: 1px solid rgba(56,217,169,0.2); }
.legal-summary-text {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}
.legal-summary.critical .legal-summary-icon { color: var(--red); }
.legal-summary.warning .legal-summary-icon { color: var(--yellow); }

/* ANOTHER BTN */
.analyze-another {
  text-align: center; margin-top: 40px;
}

/* FEATURES */
#features {
  padding: 80px 48px;
  max-width: 1100px;
  margin: 0 auto;
}
.features-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-top: 48px;
}
@media (max-width: 800px) { .features-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 500px) { .features-grid { grid-template-columns: 1fr; } }

.feature-card {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 28px;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}
.feature-card::after {
  content: '';
  position: absolute;
  bottom: 0; right: 0;
  width: 80px; height: 80px;
  background: radial-gradient(circle, rgba(124,109,250,0.12), transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}
.feature-card:hover {
  border-color: rgba(124,109,250,0.5);
  transform: translateY(-8px);
  box-shadow: 0 16px 48px rgba(0,0,0,0.5), 0 0 32px rgba(124,109,250,0.15);
}
.feature-icon {
  width: 48px; height: 48px;
  border-radius: 14px;
  background: rgba(124,109,250,0.15);
  display: flex; align-items: center; justify-content: center;
  font-size: 22px;
  margin-bottom: 20px;
  border: 1px solid rgba(124,109,250,0.2);
}
.feature-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 17px;
  margin-bottom: 10px;
}
.feature-desc {
  font-size: 14px;
  color: var(--muted);
  line-height: 1.6;
}

/* FOOTER */
footer {
  border-top: 1px solid var(--border);
  padding: 48px;
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: gap;
  position: relative; z-index: 1;
}
.footer-brand {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 18px;
  margin-bottom: 8px;
}
.footer-copy {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}
.footer-tags { display: flex; gap: 8px; flex-wrap: wrap; }
.footer-tag {
  background: rgba(124,109,250,0.1);
  border: 1px solid rgba(124,109,250,0.2);
  border-radius: 100px;
  padding: 4px 12px;
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.05em;
  text-decoration: none;
  transition: all 0.2s;
}
.footer-tag-link {
  color: var(--accent2);
  border-color: rgba(124,109,250,0.4);
  background: rgba(124,109,250,0.15);
}
.footer-tag-link:hover {
  background: rgba(124,109,250,0.3);
  border-color: rgba(124,109,250,0.7);
  color: white;
  box-shadow: 0 0 16px rgba(124,109,250,0.3);
}

/* GLOW LINE under nav */
nav::after {
  content: '';
  position: absolute;
  bottom: 0; left: 10%; right: 10%;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(124,109,250,0.4), transparent);
}

/* HERO GLOW ORB */
#hero::before {
  content: '';
  position: absolute;
  top: 20%; left: 50%;
  transform: translateX(-50%);
  width: 600px; height: 400px;
  background: radial-gradient(ellipse, rgba(124,109,250,0.08) 0%, transparent 70%);
  pointer-events: none;
  z-index: 0;
}

/* RISK SCORE pulse animation */
.risk-score-value {
  animation: scoreGlow 3s ease infinite;
}
@keyframes scoreGlow {
  0%,100% { filter: brightness(1); }
  50% { filter: brightness(1.15); }
}

/* SHIMMER on stat values */
.stat-value {
  background: linear-gradient(90deg, var(--accent2), #c4b5fd, var(--accent2));
  background-size: 200% auto;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmer 4s linear infinite;
}
@keyframes shimmer {
  to { background-position: 200% center; }
}

/* SCAN LINE effect on cards */
.card-block {
  position: relative;
  overflow: hidden;
}
.card-block::before {
  content: '';
  position: absolute;
  top: -100%; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(124,109,250,0.3), transparent);
  animation: scanline 6s linear infinite;
  pointer-events: none;
}
@keyframes scanline {
  to { top: 200%; }
}

/* NEON border on risk hero */
.risk-hero {
  position: relative;
}
.risk-hero::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 24px;
  padding: 1px;
  background: linear-gradient(135deg, rgba(124,109,250,0.3), transparent, rgba(124,109,250,0.1));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  pointer-events: none;
}

/* DIVIDER */
.section-divider {
  max-width: 1100px;
  margin: 0 auto;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border), transparent);
}

/* Number counter */
.counter { display: inline-block; }

/* ============================================================
   COMPARE SECTION
   ============================================================ */
#compare {
  padding: 80px 48px;
  max-width: 1100px;
  margin: 0 auto;
}
.compare-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-bottom: 32px;
}
@media (max-width: 760px) { .compare-grid { grid-template-columns: 1fr; } }

.compare-slot {
  background: var(--bg2);
  border: 1.5px dashed rgba(124,109,250,0.25);
  border-radius: 20px;
  padding: 28px;
  transition: all 0.3s;
  min-height: 180px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: none;
  position: relative;
  overflow: hidden;
}
.compare-slot:hover { border-color: rgba(124,109,250,0.5); background: rgba(124,109,250,0.05); }
.compare-slot.loaded {
  border-style: solid;
  border-color: rgba(124,109,250,0.3);
  align-items: flex-start;
  justify-content: flex-start;
  text-align: left;
  cursor: default;
}
.compare-slot-icon { font-size: 32px; margin-bottom: 12px; }
.compare-slot-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 15px;
  margin-bottom: 6px;
}
.compare-slot-sub {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  color: var(--muted);
}
.compare-slot input[type=file] { display: none; }

.compare-score-big {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 56px;
  line-height: 1;
  letter-spacing: -2px;
  margin-bottom: 4px;
}
.compare-score-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin-bottom: 16px;
}
.compare-tender-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 8px;
  color: var(--text);
  line-height: 1.4;
}
.compare-level {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 4px 12px;
  border-radius: 8px;
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  margin-bottom: 16px;
}
.compare-level.high { background: rgba(255,107,107,0.15); color: var(--red); border: 1px solid rgba(255,107,107,0.3); }
.compare-level.medium { background: rgba(255,212,59,0.12); color: var(--yellow); border: 1px solid rgba(255,212,59,0.3); }
.compare-level.low { background: rgba(56,217,169,0.12); color: var(--green); border: 1px solid rgba(56,217,169,0.3); }

.compare-bar-wrap { width: 100%; margin-bottom: 20px; }
.compare-bar-bg { height: 6px; background: rgba(255,255,255,0.06); border-radius: 100px; overflow: hidden; }
.compare-bar-fill { height: 100%; border-radius: 100px; transition: width 1.2s cubic-bezier(0.23,1,0.32,1); width: 0; }

.compare-components { width: 100%; }
.compare-comp-row {
  display: flex; align-items: center; justify-content: space-between;
  padding: 8px 0;
  border-bottom: 1px solid rgba(255,255,255,0.04);
  font-family: 'DM Mono', monospace;
  font-size: 12px;
}
.compare-comp-row:last-child { border-bottom: none; }
.compare-comp-name { color: var(--muted); flex: 1; }
.compare-comp-val { font-weight: 500; min-width: 40px; text-align: right; }

.compare-winner-badge {
  display: flex; align-items: center; justify-content: center;
  gap: 16px;
  background: var(--bg3);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 24px 32px;
  margin-top: 8px;
  flex-wrap: wrap;
}
.compare-winner-side { text-align: center; }
.compare-winner-label {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 6px;
}
.compare-winner-text {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 20px;
}
.compare-vs {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 24px;
  color: var(--muted);
}
.compare-reset-btn {
  background: rgba(255,107,107,0.1);
  border: 1px solid rgba(255,107,107,0.25);
  color: var(--red);
  padding: 8px 20px;
  border-radius: 8px;
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  cursor: none;
  transition: all 0.2s;
  margin-top: 8px;
}
.compare-reset-btn:hover { background: rgba(255,107,107,0.2); }
.compare-loading-overlay {
  position: absolute; inset: 0;
  background: rgba(13,15,26,0.85);
  display: flex; align-items: center; justify-content: center;
  border-radius: 20px;
  font-family: 'DM Mono', monospace;
  font-size: 13px;
  color: var(--accent2);
  gap: 10px;
}

</style>
</head>
<body>

<!-- Cursor -->
<div id="cursor"></div>
<div id="cursor-ring"></div>

<!-- Background -->
<div class="grid-bg"></div>
<canvas id="particles-canvas"></canvas>

<!-- NAV -->
<nav>
  <div class="nav-logo">
    <div class="logo-dot"></div>
    TenderAI
  </div>
  <div class="nav-links">
    <a href="#upload">–ê–Ω–∞–ª–∏–∑</a>
    <a href="#compare">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ</a>
    <a href="#features">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a>
    <a href="https://github.com/entelexiya/tenderai-1" target="_blank">GitHub</a>
    <button class="nav-btn" onclick="scrollToUpload()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ‚Üí</button>
  </div>
</nav>

<!-- HERO -->
<section id="hero">
  <div class="hero-badge">
    <span class="badge-dot"></span>
    –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω ¬∑ –ì–æ—Å–∑–∞–∫—É–ø–∫–∏ ¬∑ ML –º–æ–¥–µ–ª—å
  </div>
  <h1 class="hero-title">
    Tender<span class="accent">AI</span><br>
    <span class="glow">–ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤</span>
  </h1>
  <p class="hero-subtitle">
    <em>¬´TenderAI makes tenders understandable ‚Äî
    not after you lost, but before you decided to participate.¬ª</em>
  </p>
  <div class="hero-stats">
    <div class="stat-item">
      <div class="stat-value">$61B</div>
      <div class="stat-label">—Ä—ã–Ω–æ–∫ –†–ö 2023</div>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <div class="stat-value">68%</div>
      <div class="stat-label">–Ω–µ—Å–æ—Å—Ç–æ—è–≤—à–∏—Ö—Å—è</div>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <div class="stat-value">3 —Å–µ–∫</div>
      <div class="stat-label">–≤—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞</div>
    </div>
    <div class="stat-divider"></div>
    <div class="stat-item">
      <div class="stat-value">800+</div>
      <div class="stat-label">—Ç–µ–Ω–¥–µ—Ä–æ–≤ –≤ –¥–∞—Ç–∞—Å–µ—Ç–µ</div>
    </div>
  </div>
  <div class="hero-btns">
    <button class="btn-primary" onclick="scrollToUpload()">
      ‚ö° Analyze Tender
    </button>
    <button class="btn-secondary" onclick="loadDemo('high')">
      ‚ñ∂ Live Demo
    </button>
  </div>
</section>

<!-- UPLOAD SECTION -->
<section id="upload">
  <div class="reveal">
    <div class="section-label">// –∞–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ—Ä–∞</div>
    <h2 class="section-title">–ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF<br>–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥–µ–º–æ</h2>
    <p class="section-desc">–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Ç–µ–Ω–¥–µ—Ä–∞ –ø–æ 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Ä–∏—Å–∫–∞ –∏ –ó–∞–∫–æ–Ω—É –†–ö ‚Ññ 106-VIII</p>
  </div>

  <div class="reveal">
    <!-- DROP ZONE -->
    <div class="drop-zone" id="dropZone">
      <div class="drop-icon">üìÑ</div>
      <div class="drop-title">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ PDF —Å—é–¥–∞</div>
      <div class="drop-sub">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞</div>
      <div class="drop-or">‚Äî –∏–ª–∏ ‚Äî</div>
      <button class="btn-upload" onclick="document.getElementById('file-input').click()">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</button>
      <input type="file" id="file-input" accept=".pdf,.txt" onchange="handleFileUpload(this)">
    </div>

    <!-- DEMO BUTTONS -->
    <div class="demo-section">
      <div class="demo-label">// –¥–µ–º–æ —Å—Ü–µ–Ω–∞—Ä–∏–∏</div>
      <div class="demo-btns">
        <button class="demo-btn demo-btn-high" onclick="loadDemo('high')">
          <span class="demo-btn-icon">üî¥</span>
          <div class="demo-btn-title">–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫</div>
          <div class="demo-btn-sub">Dell XPS ¬∑ —Å—Ç—Ä–æ–≥–æ ¬∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–∏–ª–µ—Ä</div>
          <div class="demo-btn-score">87/100</div>
        </button>
        <button class="demo-btn demo-btn-med" onclick="loadDemo('medium')">
          <span class="demo-btn-icon">üü°</span>
          <div class="demo-btn-title">–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫</div>
          <div class="demo-btn-sub">Samsung ¬∑ 5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π</div>
          <div class="demo-btn-score">52/100</div>
        </button>
        <button class="demo-btn demo-btn-low" onclick="loadDemo('low')">
          <span class="demo-btn-icon">üü¢</span>
          <div class="demo-btn-title">–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫</div>
          <div class="demo-btn-sub">–ö–∞–Ω—Ü—Ç–æ–≤–∞—Ä—ã ¬∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π –Ω–µ—Ç</div>
          <div class="demo-btn-score">12/100</div>
        </button>
      </div>
    </div>
  </div>

  <!-- LOADING -->
  <div id="loading">
    <div class="loading-title">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–Ω–¥–µ—Ä...</div>
    <div class="loading-sub">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</div>
    <div class="loading-steps" id="loading-steps">
      <div class="loading-step" id="step-1">
        <div class="step-icon"><div class="step-spinner"></div></div>
        <span>Parsing PDF document</span>
      </div>
      <div class="loading-step" id="step-2">
        <div class="step-icon">‚ãØ</div>
        <span>NLP Processing</span>
      </div>
      <div class="loading-step" id="step-3">
        <div class="step-icon">‚ãØ</div>
        <span>ML Risk Score Calculation</span>
      </div>
      <div class="loading-step" id="step-4">
        <div class="step-icon">‚ãØ</div>
        <span>Legal Compliance Check (–ó–∞–∫–æ–Ω –†–ö)</span>
      </div>
    </div>
  </div>

  <!-- RESULTS -->
  <div id="results">
    <!-- RISK HERO -->
    <div id="risk-hero" class="risk-hero">
      <div class="risk-score-wrap">
        <div id="risk-score-value" class="risk-score-value">87</div>
        <div class="risk-score-label">Risk Score</div>
        <div class="risk-bar-wrap" style="width:120px; margin-top:12px;">
          <div class="risk-bar-bg"><div id="risk-bar" class="risk-bar-fill"></div></div>
        </div>
      </div>
      <div class="risk-info">
        <div id="risk-level" class="risk-level">üî¥ –í–´–°–û–ö–ò–ô</div>
        <div id="risk-title" class="risk-title">–ù–æ—É—Ç–±—É–∫–∏ Dell XPS 13 –¥–ª—è —à–∫–æ–ª</div>
        <div id="risk-recommendation" class="risk-recommendation">–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—á–∞—Å—Ç–∏–µ–º –≤ —Ç–µ–Ω–¥–µ—Ä–µ.</div>
      </div>
    </div>

    <!-- COMPONENTS -->
    <div class="components-grid" id="components-grid"></div>

    <!-- TWO COLUMN -->
    <div class="two-col">
      <!-- LEGAL -->
      <div class="card-block">
        <div class="card-block-title">
          <div class="icon">‚öñÔ∏è</div>
          –ü—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑
        </div>
        <div id="legal-summary" class="legal-summary critical">
          <span class="legal-summary-icon">‚ö†Ô∏è</span>
          <span class="legal-summary-text">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
        <div id="legal-items"></div>
      </div>
      <!-- REQUIREMENTS + WINNER -->
      <div>
        <div class="card-block" style="margin-bottom:20px;">
          <div class="card-block-title">
            <div class="icon">üìã</div>
            –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—á–∞—Å—Ç–∏—è
          </div>
          <div id="requirements-items"></div>
        </div>
        <div class="card-block">
          <div class="card-block-title">
            <div class="icon">üèÜ</div>
            –ò—Å—Ç–æ—Ä–∏—è –ø–æ–±–µ–¥
          </div>
          <div id="winner-info"></div>
        </div>
      </div>
    </div>

    <!-- HEATMAP -->
    <div class="heatmap-section">
      <div class="heatmap-title">
        <div style="width:32px;height:32px;background:rgba(255,107,107,0.15);border-radius:8px;display:flex;align-items:center;justify-content:center;">üî•</div>
        –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
      </div>
      <div class="heatmap-text" id="heatmap-text"></div>
    </div>

    <!-- ANALYZE ANOTHER -->
    <div class="analyze-another">
      <button class="btn-primary" onclick="resetAnalysis()">‚Üê –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ç–µ–Ω–¥–µ—Ä</button>
    </div>
  </div>
</section>


<div class="section-divider"></div>

<!-- COMPARE -->
<section id="compare">
  <div class="reveal">
    <div class="section-label">// —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–æ–≤</div>
    <h2 class="section-title">–°—Ä–∞–≤–Ω–∏—Ç–µ –¥–≤–∞<br>—Ç–µ–Ω–¥–µ—Ä–∞ —Ä—è–¥–æ–º</h2>
    <p class="section-desc">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–≤–∞ PDF –∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç –∏—Ö —Ä–∏—Å–∫–∏ —Ä—è–¥–æ–º</p>
  </div>

  <div class="compare-grid reveal" id="compare-grid">
    <!-- SLOT A -->
    <div class="compare-slot" id="compare-slot-a" onclick="document.getElementById('compare-file-a').click()">
      <input type="file" id="compare-file-a" accept=".pdf,.txt" onchange="handleCompareFile('a', this)">
      <div class="compare-slot-icon">üìÑ</div>
      <div class="compare-slot-title">–¢–µ–Ω–¥–µ—Ä A</div>
      <div class="compare-slot-sub">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ PDF</div>
    </div>
    <!-- SLOT B -->
    <div class="compare-slot" id="compare-slot-b" onclick="document.getElementById('compare-file-b').click()">
      <input type="file" id="compare-file-b" accept=".pdf,.txt" onchange="handleCompareFile('b', this)">
      <div class="compare-slot-icon">üìÑ</div>
      <div class="compare-slot-title">–¢–µ–Ω–¥–µ—Ä B</div>
      <div class="compare-slot-sub">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ PDF</div>
    </div>
  </div>

  <!-- COMPARE RESULT -->
  <div id="compare-result" style="display:none;">
    <div class="compare-winner-badge" id="compare-winner-badge"></div>
    <div style="text-align:center;margin-top:16px;">
      <button class="compare-reset-btn" onclick="resetCompare()">‚Ü∫ –°—Ä–∞–≤–Ω–∏—Ç—å –¥—Ä—É–≥–∏–µ</button>
    </div>
  </div>
</section>

<div class="section-divider"></div>

<!-- FEATURES -->
<section id="features">
  <div class="reveal">
    <div class="section-label">// –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</div>
    <h2 class="section-title">–í—Å—ë —á—Ç–æ –Ω—É–∂–Ω–æ<br>–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–Ω–¥–µ—Ä–∞</h2>
  </div>
  <div class="features-grid reveal">
    <div class="feature-card" style="animation-delay:0.05s">
      <div class="feature-icon">üß†</div>
      <div class="feature-title">ML –º–æ–¥–µ–ª—å –Ω–∞ 800+ —Ç–µ–Ω–¥–µ—Ä–∞—Ö</div>
      <div class="feature-desc">IsolationForest + sentence-transformers –æ–±—É—á–µ–Ω–Ω—ã–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≥–æ—Å–∑–∞–∫—É–ø–æ–∫ –†–ö</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">‚öñÔ∏è</div>
      <div class="feature-title">–ü—Ä–∞–≤–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</div>
      <div class="feature-desc">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ó–∞–∫–æ–Ω—É –†–ö ‚Ññ 106-VIII (2024) —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Å—Ç–∞—Ç—å—è–º–∏</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üéØ</div>
      <div class="feature-title">5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∏—Å–∫–∞</div>
      <div class="feature-desc">–ê–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞, –±—Ä–µ–Ω–¥—ã, —Å–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏, –∂—ë—Å—Ç–∫–∏–µ —Å—Ä–æ–∫–∏, —Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üîí</div>
      <div class="feature-title">–ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–∞—è</div>
      <div class="feature-desc">–ë–µ–∑ OpenAI –∏ ChatGPT. –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —Å–∏—Å—Ç–µ–º—É. –ö–∞–∑–∞—Ö—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫–∏</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üèÜ</div>
      <div class="feature-title">–ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</div>
      <div class="feature-desc">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ–±–µ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —É –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑—á–∏–∫–∞</div>
    </div>
    <div class="feature-card">
      <div class="feature-icon">‚ö°</div>
      <div class="feature-title">3 —Å–µ–∫—É–Ω–¥—ã</div>
      <div class="feature-desc">–ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ—Ä–∞ –∑–∞ 3 —Å–µ–∫—É–Ω–¥—ã. PDF ‚Üí Risk Score ‚Üí –ü—Ä–∞–≤–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑</div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div>
    <div class="footer-brand">TenderAI</div>
    <div class="footer-copy">–¢—É—Ä–∫–µ—Å—Ç–∞–Ω, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω ¬∑ Local Impact Hackathon</div>
  </div>
  <div class="footer-tags">
    <a class="footer-tag footer-tag-link" href="https://github.com/entelexiya/tenderai-1" target="_blank">‚≠ê GitHub</a>
    <div class="footer-tag">–ó–∞–∫–æ–Ω –†–ö ‚Ññ106-VIII</div>
    <div class="footer-tag">sentence-transformers</div>
    <div class="footer-tag">IsolationForest</div>
    <div class="footer-tag">800+ —Ç–µ–Ω–¥–µ—Ä–æ–≤</div>
    <div class="footer-tag">FastAPI + HuggingFace</div>
  </div>
</footer>

<script>
// ============================================================
// DEMO DATA
// ============================================================
const DEMO_DATA = {
  high: {
    risk_score: 87,
    level: "üî¥ –í–´–°–û–ö–ò–ô",
    color: "high",
    title: "–ù–æ—É—Ç–±—É–∫–∏ Dell XPS 13 –¥–ª—è —à–∫–æ–ª, 15 —à—Ç",
    recommendation: "–í—ã—è–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞—Ç–æ—á–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ–Ω–¥–µ—Ä–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—á–∞—Å—Ç–∏–µ–º.",
    components: {
      "–ê–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞": 72,
      "–ë—Ä–µ–Ω–¥—ã –∏ –º–æ–¥–µ–ª–∏": 100,
      "–°–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏": 100,
      "–ñ—ë—Å—Ç–∫–∏–µ —Å—Ä–æ–∫–∏": 100,
      "–¢–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã": 80
    },
    suspicious_sentences: [
      "–ü–æ—Å—Ç–∞–≤–∫–∞ –Ω–æ—É—Ç–±—É–∫–æ–≤ —Å—Ç—Ä–æ–≥–æ Dell XPS 13 –∞—Ä—Ç–∏–∫—É–ª XPS9320, –Ω–∏–∫–∞–∫–∏—Ö –∞–Ω–∞–ª–æ–≥–æ–≤.",
      "–ü–æ—Å—Ç–∞–≤—â–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –¥–∏–ª–µ—Ä–æ–º Dell –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Gold.",
      "–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏: 1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞.",
      "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å—Ç—Ä–æ–≥–æ: Intel Core i7-1250U, 16GB LPDDR5."
    ],
    legal: [
      { status: "violation", article: "–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –ó–∞–ø—Ä–µ—Ç –Ω–∞ –±—Ä–µ–Ω–¥", message: "–£–∫–∞–∑–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±—Ä–µ–Ω–¥ —Ç–æ–≤–∞—Ä–∞ –±–µ–∑ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è. –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–≤–Ω–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏.", found: "—Å—Ç—Ä–æ–≥–æ Dell XPS", severity: "high" },
      { status: "violation", article: "–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É", message: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∏–ª–µ—Ä—Å—Ç–≤–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é.", found: "–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –¥–∏–ª–µ—Ä–æ–º Gold", severity: "high" },
      { status: "violation", article: "–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –°—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏", message: "–°—Ä–æ–∫ 1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.", found: "1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å", severity: "high" }
    ],
    legal_summary: { level: "critical", text: "3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞—Ä—É—à–µ–Ω–∏—è", count: 3 },
    requirements: { product: "–ù–æ—É—Ç–±—É–∫–∏ Dell XPS 13", quantity: "15 —à—Ç", price: "850 000 —Ç–µ–Ω–≥–µ/—à—Ç", deadline: "1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å", brand: "Dell (Gold –¥–∏–ª–µ—Ä)" },
    winners: { found: true, supplier: "–¢–û–û –¢–µ—Ö–Ω–æ–ü–∞—Ä–∫ –ê—Å—Ç–∞–Ω–∞", total_wins: 5, note: "5 –ø–æ–±–µ–¥ —É –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑—á–∏–∫–∞ –∑–∞ 12 –º–µ—Å." }
  },
  medium: {
    risk_score: 52,
    level: "üü° –°–†–ï–î–ù–ò–ô",
    color: "medium",
    title: "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã Samsung –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, 20 —à—Ç",
    recommendation: "–í—ã—è–≤–ª–µ–Ω—ã –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∏—Å–∫–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–∏—Ç—å –¢–ó –∏ —É—Å–ª–æ–≤–∏—è –ø–æ—Å—Ç–∞–≤–∫–∏ –ø–µ—Ä–µ–¥ –ø–æ–¥–∞—á–µ–π –∑–∞—è–≤–∫–∏.",
    components: {
      "–ê–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞": 48,
      "–ë—Ä–µ–Ω–¥—ã –∏ –º–æ–¥–µ–ª–∏": 80,
      "–°–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏": 40,
      "–ñ—ë—Å—Ç–∫–∏–µ —Å—Ä–æ–∫–∏": 60,
      "–¢–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã": 35
    },
    suspicious_sentences: [
      "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã Samsung Galaxy —Å–µ—Ä–∏–∏ A –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç.",
      "–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏: 5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞."
    ],
    legal: [
      { status: "violation", article: "–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞", message: "–£–ø–æ–º—è–Ω—É—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±—Ä–µ–Ω–¥. –î–æ–ø—É—Å—Ç–∏–º–æ —Ç–æ–ª—å–∫–æ —Å —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–æ–π ¬´–∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç¬ª.", found: "Samsung Galaxy", severity: "medium" },
      { status: "warning", article: "–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –°—Ä–æ–∫–∏", message: "5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π ‚Äî —Å–∂–∞—Ç—ã–π —Å—Ä–æ–∫, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏.", found: "5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π", severity: "low" },
      { status: "ok", article: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", message: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏.", found: "", severity: "none" }
    ],
    legal_summary: { level: "warning", text: "1 –Ω–∞—Ä—É—à–µ–Ω–∏–µ, 1 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", count: 2 },
    requirements: { product: "–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã Samsung Galaxy A", quantity: "20 —à—Ç", price: "180 000 —Ç–µ–Ω–≥–µ/—à—Ç", deadline: "5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π", brand: "Samsung –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç" },
    winners: { found: false, supplier: null, total_wins: 0, note: "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω" }
  },
  low: {
    risk_score: 12,
    level: "üü¢ –ù–ò–ó–ö–ò–ô",
    color: "low",
    title: "–ö–∞–Ω—Ü–µ–ª—è—Ä—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã, 50 –Ω–∞–±–æ—Ä–æ–≤",
    recommendation: "–¢–µ–Ω–¥–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ù–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–π.",
    components: {
      "–ê–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞": 10,
      "–ë—Ä–µ–Ω–¥—ã –∏ –º–æ–¥–µ–ª–∏": 0,
      "–°–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏": 15,
      "–ñ—ë—Å—Ç–∫–∏–µ —Å—Ä–æ–∫–∏": 20,
      "–¢–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã": 12
    },
    suspicious_sentences: [],
    legal: [
      { status: "ok", article: "–ë—Ä–µ–Ω–¥—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏", message: "–ë—Ä–µ–Ω–¥—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ.", found: "", severity: "none" },
      { status: "ok", article: "–°—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏", message: "–°—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞–∑—É–º–Ω—ã–µ, 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π.", found: "", severity: "none" },
      { status: "ok", article: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", message: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ–±—â–∏–µ, –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é.", found: "", severity: "none" }
    ],
    legal_summary: { level: "ok", text: "–ù–∞—Ä—É—à–µ–Ω–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ", count: 0 },
    requirements: { product: "–ö–∞–Ω—Ü–µ–ª—è—Ä—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã (–Ω–∞–±–æ—Ä—ã)", quantity: "50 –Ω–∞–±–æ—Ä–æ–≤", price: "15 000 —Ç–µ–Ω–≥–µ/–Ω–∞–±–æ—Ä", deadline: "10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π", brand: "–õ—é–±–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å" },
    winners: { found: false, supplier: null, total_wins: 0, note: "–ù–µ—Ç –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏" }
  }
};

// ============================================================
// BACKEND CONFIG ‚Äî –∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π HuggingFace URL –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
// ============================================================
const API_URL = 'https://entelexiya-tenderai-api.hf.space';

// ============================================================
// CURSOR
// ============================================================
const cursor = document.getElementById('cursor');
const cursorRing = document.getElementById('cursor-ring');
document.addEventListener('mousemove', e => {
  cursor.style.transform = `translate(${e.clientX - 6}px, ${e.clientY - 6}px)`;
  cursorRing.style.transform = `translate(${e.clientX - 18}px, ${e.clientY - 18}px)`;
});
document.addEventListener('mousedown', () => { cursor.style.transform += ' scale(0.7)'; });
document.addEventListener('mouseup', () => { });

// ============================================================
// PARTICLES
// ============================================================
const canvas = document.getElementById('particles-canvas');
const ctx = canvas.getContext('2d');
let particles = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

function createParticle() {
  return {
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    vx: (Math.random() - 0.5) * 0.3,
    vy: (Math.random() - 0.5) * 0.3,
    r: Math.random() * 1.5 + 0.5,
    alpha: Math.random() * 0.5 + 0.1
  };
}
for (let i = 0; i < 80; i++) particles.push(createParticle());

function animateParticles() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    p.x += p.vx; p.y += p.vy;
    if (p.x < 0) p.x = canvas.width;
    if (p.x > canvas.width) p.x = 0;
    if (p.y < 0) p.y = canvas.height;
    if (p.y > canvas.height) p.y = 0;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(124,109,250,${p.alpha})`;
    ctx.fill();
  });
  // Draw lines between close particles
  for (let i = 0; i < particles.length; i++) {
    for (let j = i + 1; j < particles.length; j++) {
      const dx = particles[i].x - particles[j].x;
      const dy = particles[i].y - particles[j].y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if (dist < 120) {
        ctx.beginPath();
        ctx.moveTo(particles[i].x, particles[i].y);
        ctx.lineTo(particles[j].x, particles[j].y);
        ctx.strokeStyle = `rgba(124,109,250,${0.08 * (1 - dist/120)})`;
        ctx.lineWidth = 0.5;
        ctx.stroke();
      }
    }
  }
  requestAnimationFrame(animateParticles);
}
animateParticles();

// ============================================================
// SCROLL REVEAL
// ============================================================
const revealEls = document.querySelectorAll('.reveal');
const observer = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) e.target.classList.add('visible');
  });
}, { threshold: 0.1 });
revealEls.forEach(el => observer.observe(el));

// ============================================================
// SCROLL TO UPLOAD
// ============================================================
function scrollToUpload() {
  document.getElementById('upload').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// ============================================================
// DRAG & DROP
// ============================================================
const dropZone = document.getElementById('dropZone');
dropZone.addEventListener('dragover', e => { e.preventDefault(); dropZone.classList.add('drag-over'); });
dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag-over'));
dropZone.addEventListener('drop', e => {
  e.preventDefault();
  dropZone.classList.remove('drag-over');
  const file = e.dataTransfer.files[0];
  if (file) handleFile(file);
});
dropZone.addEventListener('click', () => document.getElementById('file-input').click());

function handleFileUpload(input) {
  if (input.files[0]) handleFile(input.files[0]);
}

async function handleFile(file) {
  scrollToUpload();

  // Show loading UI immediately
  document.getElementById('loading').style.display = 'block';
  document.getElementById('results').style.display = 'none';
  document.getElementById('dropZone').style.display = 'none';
  document.querySelector('.demo-section').style.display = 'none';

  ['step-1','step-2','step-3','step-4'].forEach(id => {
    const el = document.getElementById(id);
    el.className = 'loading-step';
    el.querySelector('.step-icon').innerHTML = '<div class="step-spinner"></div>';
  });

  // Step 1: Parse PDF
  activateLoadingStep(0);
  let text = '';
  try {
    if (file.type === 'application/pdf' || file.name.endsWith('.pdf')) {
      text = await extractTextFromPDF(file);
    } else {
      text = await file.text();
    }
  } catch(e) {
    text = file.name; // fallback to filename only
  }

  // Step 2: NLP
  await delay(700);
  activateLoadingStep(1);

  // Step 3: ML Score
  await delay(900);
  activateLoadingStep(2);

  // Step 4: Legal
  await delay(700);
  activateLoadingStep(3);

  await delay(600);
  markLoadingDone();

  // Call real backend if available, else fallback to heuristic
  let result;
  if (API_URL) {
    try {
      const response = await fetch(`${API_URL}/analyze`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ text })
      });
      if (!response.ok) throw new Error(`HTTP ${response.status}`);
      const data = await response.json();
      // Normalize color field from backend (red/yellow/green ‚Üí high/medium/low)
      data.color = data.color === 'red' ? 'high' : data.color === 'yellow' ? 'medium' : data.color === 'green' ? 'low' : data.color;
      data.title = data.title || (data.requirements && data.requirements.product) || file.name.replace(/\.pdf$/i,'');
      result = data;
    } catch(e) {
      console.warn('Backend error, using heuristic:', e);
      result = analyzeText(text, file.name);
    }
  } else {
    result = analyzeText(text, file.name);
  }

  await delay(200);
  document.getElementById('loading').style.display = 'none';
  renderResults(result);
}

function delay(ms) { return new Promise(r => setTimeout(r, ms)); }

function activateLoadingStep(i) {
  const stepNames = ['step-1','step-2','step-3','step-4'];
  if (i > 0) {
    const prev = document.getElementById(stepNames[i-1]);
    prev.className = 'loading-step done';
    prev.querySelector('.step-icon').innerHTML = '‚úì';
  }
  if (i < stepNames.length) {
    document.getElementById(stepNames[i]).className = 'loading-step active';
    document.getElementById(stepNames[i]).querySelector('.step-icon').innerHTML = '<div class="step-spinner"></div>';
  }
}

function markLoadingDone() {
  const stepNames = ['step-1','step-2','step-3','step-4'];
  const last = document.getElementById(stepNames[3]);
  last.className = 'loading-step done';
  last.querySelector('.step-icon').innerHTML = '‚úì';
}

async function extractTextFromPDF(file) {
  // Load PDF.js from CDN dynamically
  if (!window.pdfjsLib) {
    await loadScript('https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js');
    window.pdfjsLib.GlobalWorkerOptions.workerSrc =
      'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
  }
  const arrayBuffer = await file.arrayBuffer();
  const pdf = await window.pdfjsLib.getDocument({ data: arrayBuffer }).promise;
  let fullText = '';
  for (let i = 1; i <= Math.min(pdf.numPages, 10); i++) {
    const page = await pdf.getPage(i);
    const content = await page.getTextContent();
    fullText += content.items.map(item => item.str).join(' ') + '\n';
  }
  return fullText;
}

function loadScript(src) {
  return new Promise((resolve, reject) => {
    const s = document.createElement('script');
    s.src = src; s.onload = resolve; s.onerror = reject;
    document.head.appendChild(s);
  });
}

// ============================================================
// HEURISTIC ANALYSIS ENGINE
// ============================================================
function analyzeText(text, filename) {
  const t = (text + ' ' + filename).toLowerCase();

  // ---- SIGNALS ----
  const BRANDS = [
    'dell','hp','lenovo','apple','samsung','xiaomi','huawei','lg','sony','asus','acer',
    'canon','epson','cisco','microsoft','intel','amd','nvidia','brother','xerox','kyocera'
  ];
  const RESTRICT_WORDS = [
    '—Å—Ç—Ä–æ–≥–æ','–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ','—Ç–æ–ª—å–∫–æ','–Ω–∏–∫–∞–∫–∏—Ö –∞–Ω–∞–ª–æ–≥–æ–≤','–±–µ–∑ –∞–Ω–∞–ª–æ–≥–æ–≤',
    '–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–∏–ª–µ—Ä','–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä','gold –ø–∞—Ä—Ç–Ω—ë—Ä','platinum –ø–∞—Ä—Ç–Ω—ë—Ä',
    '–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç–∞–≤—â–∏–∫','—ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π'
  ];
  const TIGHT_DEADLINES = [
    '1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å','2 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è','1 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –¥–µ–Ω—å','–≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫',
    '24 —á–∞—Å–∞','48 —á–∞—Å–æ–≤','3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è'
  ];
  const EXACT_PARAMS = [
    /–∞—Ä—Ç–∏–∫—É–ª\s+[a-z0-9\-]+/i, /–º–æ–¥–µ–ª—å\s+[a-z0-9\-]+/i, /—Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä/i,
    /part number/i, /—Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å/i, /–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏/i,
    /[\d]{4,}[a-z]+[\d]*/i  // part number patterns
  ];

  // Count hits
  const foundBrands = BRANDS.filter(b => t.includes(b));
  const foundRestrict = RESTRICT_WORDS.filter(w => t.includes(w));
  const foundDeadlines = TIGHT_DEADLINES.filter(d => t.includes(d));
  const foundExact = EXACT_PARAMS.filter(r => r.test(t));

  // Component scores
  const brandScore = Math.min(100, foundBrands.length * 35);
  const restrictScore = Math.min(100, foundRestrict.length * 40);
  const deadlineScore = Math.min(100, foundDeadlines.length * 60);
  const exactScore = Math.min(100, foundExact.length * 30);

  // Text anomaly: short text or filename-only = suspicious
  const textLen = text.trim().length;
  const anomalyScore = textLen < 100 ? 30 :
                       textLen < 500 ? 20 :
                       (foundBrands.length + foundRestrict.length) > 3 ? 65 : 15;

  // Total risk score (weighted)
  const rawScore = (
    anomalyScore * 0.15 +
    brandScore   * 0.25 +
    restrictScore* 0.30 +
    deadlineScore* 0.20 +
    exactScore   * 0.10
  );
  const risk_score = Math.round(Math.max(5, Math.min(99, rawScore)));

  // Level
  const color = risk_score >= 65 ? 'high' : risk_score >= 35 ? 'medium' : 'low';
  const level = color === 'high' ? 'üî¥ –í–´–°–û–ö–ò–ô' : color === 'medium' ? 'üü° –°–†–ï–î–ù–ò–ô' : 'üü¢ –ù–ò–ó–ö–ò–ô';

  // Extract product name from text (first meaningful noun phrase)
  const titleMatch = text.match(/(?:–ø–æ—Å—Ç–∞–≤–∫–∞|–∑–∞–∫—É–ø–∫–∞|–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ|—Ç–µ–Ω–¥–µ—Ä –Ω–∞)[^.]{5,60}/i);
  const title = titleMatch
    ? titleMatch[0].trim().replace(/\s+/g,' ')
    : (filename.replace(/\.pdf$/i,'').replace(/[-_]/g,' ') || '–ê–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ—Ä–∞');

  // Recommendation
  const recommendation =
    color === 'high'
      ? `–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞—Ç–æ—á–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ–Ω–¥–µ—Ä–∞. –ù–∞–π–¥–µ–Ω–æ –±—Ä–µ–Ω–¥–æ–≤: ${foundBrands.length}, —Å–ª–æ–≤-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–µ–π: ${foundRestrict.length}. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.`
      : color === 'medium'
      ? `–í—ã—è–≤–ª–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Ä–∏—Å–∫–∞. –£—Ç–æ—á–Ω–∏—Ç–µ –¢–ó –∏ —Å—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏ –ø–µ—Ä–µ–¥ –ø–æ–¥–∞—á–µ–π –∑–∞—è–≤–∫–∏.`
      : `–¢–µ–Ω–¥–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º. –Ø–≤–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.`;

  // Build legal items
  const legal = [];
  if (foundBrands.length > 0) {
    legal.push({
      status: 'violation',
      article: '–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –ó–∞–ø—Ä–µ—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞',
      message: `–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ –±–µ–∑ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ "–∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç".`,
      found: foundBrands.slice(0,3).join(', '),
      severity: 'high'
    });
  }
  if (foundRestrict.length > 0) {
    legal.push({
      status: 'violation',
      article: '–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏',
      message: `–°–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏ —Å—É–∂–∞—é—Ç –∫—Ä—É–≥ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.`,
      found: foundRestrict.slice(0,2).join(', '),
      severity: 'high'
    });
  }
  if (foundDeadlines.length > 0) {
    legal.push({
      status: 'warning',
      article: '–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –°—Ä–æ–∫–∏ –ø–æ—Å—Ç–∞–≤–∫–∏',
      message: `–°–∂–∞—Ç—ã–µ —Å—Ä–æ–∫–∏ –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å —Ç–µ–Ω–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.`,
      found: foundDeadlines[0],
      severity: 'medium'
    });
  }
  if (foundExact.length > 0) {
    legal.push({
      status: 'warning',
      article: '–ó–∞–∫–æ–Ω –†–ö ‚Ññ 106-VIII ‚Äî –¢–æ—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã',
      message: `–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∞—Ä—Ç–∏–∫—É–ª—ã –∏–ª–∏ –º–æ–¥–µ–ª–∏. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã.`,
      found: '',
      severity: 'medium'
    });
  }
  if (legal.length === 0) {
    legal.push({ status: 'ok', article: '–û–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞', message: '–Ø–≤–Ω—ã—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –≤ —Ç–µ–∫—Å—Ç–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.', found: '', severity: 'none' });
  }

  const violationCount = legal.filter(l => l.status === 'violation').length;
  const legal_summary = {
    level: violationCount >= 2 ? 'critical' : violationCount === 1 ? 'warning' : 'ok',
    text: violationCount > 0 ? `${violationCount} –Ω–∞—Ä—É—à–µ–Ω–∏${violationCount === 1 ? '–µ' : '—è'} –ó–∞–∫–æ–Ω–∞ –†–ö` : '–ù–∞—Ä—É—à–µ–Ω–∏–π –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ',
    count: violationCount
  };

  // Suspicious sentences from real text
  const sentences = text.split(/[.!?\n]/).map(s => s.trim()).filter(s => s.length > 20);
  const suspicious_sentences = sentences.filter(s => {
    const sl = s.toLowerCase();
    return BRANDS.some(b => sl.includes(b)) || RESTRICT_WORDS.some(w => sl.includes(w));
  }).slice(0, 4);

  // Extract requirements from text
  const priceMatch = text.match(/(\d[\d\s]{3,})\s*(?:—Ç–µ–Ω–≥–µ|—Ç–≥|kzt)/i);
  const qtyMatch = text.match(/(\d+)\s*(?:—à—Ç|–µ–¥–∏–Ω–∏—Ü|–∫–æ–º–ø–ª–µ–∫—Ç|–Ω–∞–±–æ—Ä)/i);
  const deadlineMatch = text.match(/(\d+\s*(?:—Ä–∞–±–æ—á–∏—Ö|–∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö)\s*–¥–Ω[–µ—ë]?[–π]?)/i);

  const requirements = {
    product: title.slice(0,50),
    quantity: qtyMatch ? qtyMatch[0] : '–ù–µ —É–∫–∞–∑–∞–Ω–æ',
    price: priceMatch ? priceMatch[0].trim() + ' —Ç–µ–Ω–≥–µ' : '–ù–µ —É–∫–∞–∑–∞–Ω–æ',
    deadline: deadlineMatch ? deadlineMatch[0] : '–ù–µ —É–∫–∞–∑–∞–Ω–æ',
    brand: foundBrands.length > 0 ? foundBrands[0].charAt(0).toUpperCase() + foundBrands[0].slice(1) : '–õ—é–±–æ–π'
  };

  return {
    risk_score,
    level,
    color,
    title: title.slice(0,80),
    recommendation,
    components: {
      '–ê–Ω–æ–º–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞': anomalyScore,
      '–ë—Ä–µ–Ω–¥—ã –∏ –º–æ–¥–µ–ª–∏': brandScore,
      '–°–ª–æ–≤–∞-–æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª–∏': restrictScore,
      '–ñ—ë—Å—Ç–∫–∏–µ —Å—Ä–æ–∫–∏': deadlineScore,
      '–¢–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã': exactScore
    },
    suspicious_sentences,
    legal,
    legal_summary,
    requirements,
    winners: { found: false, supplier: null, total_wins: 0, note: '–ò—Å—Ç–æ—Ä–∏—è –ø–æ–±–µ–¥ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –±—ç–∫–µ–Ω–¥–∞' }
  };
}

// ============================================================
// LOAD DEMO
// ============================================================
function loadDemo(type) {
  scrollToUpload();
  setTimeout(() => runAnalysis(type), 300);
}

// ============================================================
// ANALYSIS FLOW (demo buttons)
// ============================================================
function runAnalysis(type) {
  document.getElementById('loading').style.display = 'block';
  document.getElementById('results').style.display = 'none';
  document.getElementById('dropZone').style.display = 'none';
  document.querySelector('.demo-section').style.display = 'none';

  ['step-1','step-2','step-3','step-4'].forEach(id => {
    const el = document.getElementById(id);
    el.className = 'loading-step';
    el.querySelector('.step-icon').innerHTML = '<div class="step-spinner"></div>';
  });

  activateLoadingStep(0);
  const timings = [600, 900, 700, 600];
  let totalDelay = 0;
  timings.forEach((t, i) => {
    totalDelay += t;
    setTimeout(() => activateLoadingStep(i + 1), totalDelay);
  });
  setTimeout(markLoadingDone, totalDelay);

  setTimeout(() => {
    document.getElementById('loading').style.display = 'none';
    renderResults(DEMO_DATA[type]);
  }, totalDelay + 200);
}

// ============================================================
// RENDER RESULTS
// ============================================================
function renderResults(data) {
  const results = document.getElementById('results');
  results.style.display = 'block';

  // Risk Hero
  const riskHero = document.getElementById('risk-hero');
  riskHero.className = `risk-hero ${data.color}`;
  document.getElementById('risk-score-value').textContent = data.risk_score;
  document.getElementById('risk-level').textContent = data.level;
  document.getElementById('risk-title').textContent = data.title;
  document.getElementById('risk-recommendation').textContent = data.recommendation;

  // Animate bar
  setTimeout(() => {
    document.getElementById('risk-bar').style.width = data.risk_score + '%';
  }, 200);

  // Components
  const compColors = { high: '#ff6b6b', medium: '#ffd43b', low: '#38d9a9' };
  const color = compColors[data.color];
  const grid = document.getElementById('components-grid');
  grid.innerHTML = '';
  Object.entries(data.components).forEach(([name, score]) => {
    const card = document.createElement('div');
    card.className = 'component-card';
    card.innerHTML = `
      <div class="comp-name">${name}</div>
      <div class="comp-score" style="color:${color}">${score}</div>
      <div class="comp-bar"><div class="comp-bar-fill" style="background:${color}" data-target="${score}"></div></div>
    `;
    grid.appendChild(card);
    setTimeout(() => {
      card.querySelector('.comp-bar-fill').style.width = score + '%';
    }, 300);
  });

  // Legal Summary
  const lsEl = document.getElementById('legal-summary');
  lsEl.className = `legal-summary ${data.legal_summary.level}`;
  lsEl.innerHTML = `
    <span class="legal-summary-icon">${data.legal_summary.level === 'critical' ? 'üö®' : data.legal_summary.level === 'warning' ? '‚ö†Ô∏è' : '‚úÖ'}</span>
    <span class="legal-summary-text">${data.legal_summary.text}</span>
  `;

  // Legal Items
  const legalEl = document.getElementById('legal-items');
  legalEl.innerHTML = '';
  data.legal.forEach(item => {
    const icons = { violation: '‚ùå', warning: '‚ö†Ô∏è', ok: '‚úÖ' };
    const div = document.createElement('div');
    div.className = `legal-item ${item.status}`;
    div.innerHTML = `
      <div class="legal-icon">${icons[item.status]}</div>
      <div>
        <div class="legal-article">${item.article}</div>
        <div class="legal-message">${item.message}</div>
        ${item.found ? `<div class="legal-found">"${item.found}"</div>` : ''}
      </div>
    `;
    legalEl.appendChild(div);
  });

  // Requirements ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç requirement_labels –∏–∑ –±—ç–∫–µ–Ω–¥–∞ –µ—Å–ª–∏ –µ—Å—Ç—å
  const reqEl = document.getElementById('requirements-items');
  reqEl.innerHTML = '';
  const labels = data.requirement_labels || {};
  const fallbackIcons = { product: 'üì¶', quantity: 'üìä', price: 'üí∞', deadline: '‚è∞', brand: 'üè∑Ô∏è',
    delivery_deadline: '‚è±Ô∏è', delivery_place: 'üìç', customer: 'üèõÔ∏è', contest_number: 'üî¢',
    advance: 'üí≥', warranty: 'üõ°Ô∏è', standard: 'üìã', model: 'üíª', article: 'üî¢',
    submission_deadline: 'üìÖ', experience: 'üèÜ', certificate: 'üìú' };
  const fallbackLabels = { product: '–ü—Ä–µ–¥–º–µ—Ç –∑–∞–∫—É–ø–∫–∏', quantity: '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ', price: '–¶–µ–Ω–∞',
    delivery_deadline: '–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏', delivery_place: '–ú–µ—Å—Ç–æ –ø–æ—Å—Ç–∞–≤–∫–∏', customer: '–ó–∞–∫–∞–∑—á–∏–∫',
    contest_number: '–ù–æ–º–µ—Ä –∫–æ–Ω–∫—É—Ä—Å–∞', advance: '–ê–≤–∞–Ω—Å', brand: '–ë—Ä–µ–Ω–¥', warranty: '–ì–∞—Ä–∞–Ω—Ç–∏—è',
    standard: '–°—Ç–∞–Ω–¥–∞—Ä—Ç', model: '–ú–æ–¥–µ–ª—å', article: '–ê—Ä—Ç–∏–∫—É–ª', deadline: '–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏' };
  Object.entries(data.requirements).forEach(([key, val]) => {
    if (!val) return;
    const icon = (labels[key] && labels[key][0]) || fallbackIcons[key] || 'üìã';
    const label = (labels[key] && labels[key][1]) || fallbackLabels[key] || key;
    const div = document.createElement('div');
    div.className = 'req-item';
    div.innerHTML = `
      <div class="req-icon">${icon}</div>
      <div>
        <div class="req-label">${label}</div>
        <div class="req-value">${val}</div>
      </div>
    `;
    reqEl.appendChild(div);
  });

  // Winners
  const winnerEl = document.getElementById('winner-info');
  if (data.winners.found) {
    winnerEl.innerHTML = `
      <div class="winner-card">
        <div class="winner-badge">‚ö†Ô∏è –ü–ê–¢–¢–ï–†–ù –û–ë–ù–ê–†–£–ñ–ï–ù</div>
        <div class="winner-name">${data.winners.supplier}</div>
        <div class="winner-stats">${data.winners.note}</div>
      </div>
    `;
  } else {
    winnerEl.innerHTML = `<div style="color:var(--muted);font-family:'DM Mono',monospace;font-size:13px;padding:12px 0;">‚úÖ ${data.winners.note}</div>`;
  }

  // Heatmap
  const heatmapEl = document.getElementById('heatmap-text');
  if (data.suspicious_sentences.length > 0) {
    let text = '–í —Ç–µ–∫—Å—Ç–µ —Ç–µ–Ω–¥–µ—Ä–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã: ';
    data.suspicious_sentences.forEach((s, i) => {
      // Highlight key words
      let highlighted = s
        .replace(/—Å—Ç—Ä–æ–≥–æ|–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º|–Ω–∏–∫–∞–∫–∏—Ö –∞–Ω–∞–ª–æ–≥–æ–≤/gi, m => `<span class="highlight-high">${m}</span>`)
        .replace(/Dell|Samsung|Intel|XPS|Galaxy/gi, m => `<span class="highlight-high">${m}</span>`)
        .replace(/1 —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å|5 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö|Gold/gi, m => `<span class="highlight-med">${m}</span>`);
      text += `<br><br>${i+1}. ${highlighted}`;
    });
    heatmapEl.innerHTML = text;
  } else {
    heatmapEl.innerHTML = '<span style="color:var(--green)">‚úÖ –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ</span>';
  }

  // Scroll to results
  setTimeout(() => results.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
}

// ============================================================
// RESET
// ============================================================
function resetAnalysis() {
  document.getElementById('results').style.display = 'none';
  document.getElementById('dropZone').style.display = 'block';
  document.querySelector('.demo-section').style.display = 'block';
  document.getElementById('upload').scrollIntoView({ behavior: 'smooth' });
}

// ============================================================
// ANIMATED COUNTERS (Hero stats)
// ============================================================
// Simple ‚Äî already static text, no need for animation since they're always visible


// ============================================================
// COMPARE
// ============================================================
const compareData = { a: null, b: null };

async function handleCompareFile(slot, input) {
  if (!input.files[0]) return;
  const file = input.files[0];
  const slotEl = document.getElementById(`compare-slot-${slot}`);

  // Show loading overlay
  const overlay = document.createElement('div');
  overlay.className = 'compare-loading-overlay';
  overlay.innerHTML = '<div class="step-spinner"></div> –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...';
  slotEl.appendChild(overlay);

  let text = '';
  try {
    if (file.type === 'application/pdf' || file.name.endsWith('.pdf')) {
      text = await extractTextFromPDF(file);
    } else {
      text = await file.text();
    }
  } catch(e) { text = file.name; }

  let result;
  if (API_URL) {
    try {
      const resp = await fetch(`${API_URL}/analyze`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ text })
      });
      result = await resp.json();
      const colorMap = { red: 'high', orange: 'medium', green: 'low' };
      result.color = colorMap[result.color] || result.color;
      result.title = result.title || (result.requirements && result.requirements.product) || file.name.replace(/\.pdf$/i,'');
    } catch(e) { result = analyzeText(text, file.name); }
  } else {
    result = analyzeText(text, file.name);
  }

  compareData[slot] = result;
  slotEl.removeChild(overlay);
  renderCompareSlot(slot, result);

  if (compareData.a && compareData.b) renderCompareResult();
}

function renderCompareSlot(slot, data) {
  const slotEl = document.getElementById(`compare-slot-${slot}`);
  slotEl.classList.add('loaded');
  slotEl.onclick = null;

  const compColors = { high: '#ff6b6b', medium: '#ffd43b', low: '#38d9a9' };
  const color = compColors[data.color];

  const compsHtml = Object.entries(data.components).map(([name, score]) => `
    <div class="compare-comp-row">
      <span class="compare-comp-name">${name}</span>
      <span class="compare-comp-val" style="color:${color}">${score}</span>
    </div>
  `).join('');

  slotEl.innerHTML = `
    <div class="compare-score-big" style="color:${color}">${data.risk_score}</div>
    <div class="compare-score-label">Risk Score</div>
    <div class="compare-level ${data.color}">${data.level}</div>
    <div class="compare-tender-title">${(data.title || '').slice(0,60)}</div>
    <div class="compare-bar-wrap">
      <div class="compare-bar-bg">
        <div class="compare-bar-fill" style="background:${color}" id="cbar-${slot}"></div>
      </div>
    </div>
    <div class="compare-components">${compsHtml}</div>
  `;

  setTimeout(() => {
    const bar = document.getElementById(`cbar-${slot}`);
    if (bar) bar.style.width = data.risk_score + '%';
  }, 200);
}

function renderCompareResult() {
  const a = compareData.a;
  const b = compareData.b;
  const resultEl = document.getElementById('compare-result');
  const badgeEl = document.getElementById('compare-winner-badge');

  const safer = a.risk_score <= b.risk_score ? 'A' : 'B';
  const diff = Math.abs(a.risk_score - b.risk_score).toFixed(1);
  const saferColor = safer === 'A'
    ? (a.color === 'high' ? '#ff6b6b' : a.color === 'medium' ? '#ffd43b' : '#38d9a9')
    : (b.color === 'high' ? '#ff6b6b' : b.color === 'medium' ? '#ffd43b' : '#38d9a9');

  badgeEl.innerHTML = `
    <div class="compare-winner-side">
      <div class="compare-winner-label">–¢–µ–Ω–¥–µ—Ä A</div>
      <div class="compare-winner-text" style="color:${a.color === 'high' ? '#ff6b6b' : a.color === 'medium' ? '#ffd43b' : '#38d9a9'}">${a.risk_score}</div>
    </div>
    <div class="compare-vs">VS</div>
    <div class="compare-winner-side">
      <div class="compare-winner-label">–¢–µ–Ω–¥–µ—Ä B</div>
      <div class="compare-winner-text" style="color:${b.color === 'high' ? '#ff6b6b' : b.color === 'medium' ? '#ffd43b' : '#38d9a9'}">${b.risk_score}</div>
    </div>
    <div style="width:100%;text-align:center;padding-top:8px;border-top:1px solid var(--border);margin-top:8px;">
      <span style="font-family:'Syne',sans-serif;font-weight:800;font-size:15px;">
        ‚úÖ –¢–µ–Ω–¥–µ—Ä <span style="color:${saferColor}">${safer}</span> –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –Ω–∞ <span style="color:${saferColor}">${diff}</span> –ø—É–Ω–∫—Ç–æ–≤
      </span>
    </div>
  `;

  resultEl.style.display = 'block';
  resultEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function resetCompare() {
  compareData.a = null;
  compareData.b = null;
  document.getElementById('compare-result').style.display = 'none';

  ['a','b'].forEach(slot => {
    const slotEl = document.getElementById(`compare-slot-${slot}`);
    slotEl.className = 'compare-slot';
    slotEl.onclick = () => document.getElementById(`compare-file-${slot}`).click();
    slotEl.innerHTML = `
      <input type="file" id="compare-file-${slot}" accept=".pdf,.txt" onchange="handleCompareFile('${slot}', this)">
      <div class="compare-slot-icon">üìÑ</div>
      <div class="compare-slot-title">–¢–µ–Ω–¥–µ—Ä ${slot.toUpperCase()}</div>
      <div class="compare-slot-sub">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ PDF</div>
    `;
  });
}

</script>
</body>
</html>